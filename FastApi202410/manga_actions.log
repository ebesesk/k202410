2024-11-06 22:43:02,551 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6293, 6291], target: del/최면신문
2024-11-06 22:43:02,556 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6293, 6291]
2024-11-06 22:43:02,558 - app.api.api_v1.endpoints.manga - ERROR - Value error during merge: Invalid genre folder: del
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 189, in merge_manga_folder
    raise ValueError(f"Invalid genre folder: {genre_folder}")
ValueError: Invalid genre folder: del

2024-11-06 22:44:34,357 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6293, 6291], target: del/최면신문
2024-11-06 22:44:34,368 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6293, 6291]
2024-11-06 22:44:34,371 - app.api.api_v1.endpoints.manga - ERROR - Value error during merge: Invalid genre folder: del
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 190, in merge_manga_folder
    raise ValueError(f"Invalid genre folder: {genre_folder}")
ValueError: Invalid genre folder: del

2024-11-06 22:44:56,703 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6293, 6291], target: __del/최면신문
2024-11-06 22:44:56,706 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6293, 6291]
2024-11-06 22:44:56,709 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/사랑에_빠진_대악마_1'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 223, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/사랑에_빠진_대악마_1'

2024-11-06 22:45:49,547 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6293, 6291], target: __del/최면신문
2024-11-06 22:45:49,558 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6293, 6291]
2024-11-06 22:45:49,562 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/사랑에_빠진_대악마_1'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 223, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/사랑에_빠진_대악마_1'

2024-11-06 22:53:31,081 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6293, 6292], target: __del/최면신문
2024-11-06 22:53:31,086 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6293, 6292]
2024-11-06 22:53:31,125 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f601c4bac00>, 'msg': "폴더 병합 실패: 'Manga' object has no attribute 'delete'", 'success': False}, {'manga': <app.models.manga.Manga object at 0x7f601c4baf90>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/음침한_조카는_이모와_하고싶다_무삭제판 -> /home/manga/__del/최면신문', 'success': True}]
2024-11-06 22:53:31,125 - app.api.api_v1.endpoints.manga - ERROR - Merge failures: ["폴더 병합 실패: 'Manga' object has no attribute 'delete'"]
2024-11-06 22:53:31,126 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 400: {'message': 'Some manga merges failed', 'errors': ["폴더 병합 실패: 'Manga' object has no attribute 'delete'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 187, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga merges failed', 'errors': ["폴더 병합 실패: 'Manga' object has no attribute 'delete'"]}

2024-11-06 23:10:03,837 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6297], target: __del/휘감기는_시선_34
2024-11-06 23:10:03,843 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6297]
2024-11-06 23:10:03,860 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f10019d3f50>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/휘감기는_시선_31 -> /home/manga/__del/휘감기는_시선_34', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f10019d3f80>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/휘감기는_시선_34 -> /home/manga/__del/휘감기는_시선_34', 'success': True}]
2024-11-06 23:10:03,860 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6297
2024-11-06 23:10:03,863 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: type object 'MangaCRUD' has no attribute 'delete_manga_models'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MangaCRUD' has no attribute 'delete_manga_models'. Did you mean: 'delete_mangas_models'?

2024-11-06 23:10:03,865 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: type object 'MangaCRUD' has no attribute 'delete_manga_models'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MangaCRUD' has no attribute 'delete_manga_models'. Did you mean: 'delete_mangas_models'?

2024-11-06 23:36:14,008 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6299, 6298], target: __중복
2024-11-06 23:36:14,013 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6299, 6298]
2024-11-06 23:36:14,015 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f5637d13470>, 'msg': '폴더 이동 성공: /home/manga/__del/휘감기는_시선_34 -> /home/manga/__중복/휘감기는_시선_34', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f5637d13800>, 'msg': '폴더 이동 성공: /home/manga/__del/짓궂은_마음_3 -> /home/manga/__중복/짓궂은_마음_3', 'success': True}]
2024-11-06 23:36:14,015 - app.api.api_v1.endpoints.manga - INFO - Updating 2 manga records in DB
2024-11-06 23:37:11,828 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6296, 6294], target: __del/휘감기는_시선_32
2024-11-06 23:37:11,831 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6296, 6294]
2024-11-06 23:37:11,862 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f5637c1caa0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__중복/휘감기는_시선_32 -> /home/manga/__del/휘감기는_시선_32', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f5637c1c050>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/휘감기는_시선_18 -> /home/manga/__del/휘감기는_시선_32', 'success': True}]
2024-11-06 23:37:11,862 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6296
2024-11-06 23:37:11,865 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: type object 'MangaCRUD' has no attribute 'delete_manga_models'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MangaCRUD' has no attribute 'delete_manga_models'. Did you mean: 'delete_mangas_models'?

2024-11-06 23:37:11,867 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: type object 'MangaCRUD' has no attribute 'delete_manga_models'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: type object 'MangaCRUD' has no attribute 'delete_manga_models'. Did you mean: 'delete_mangas_models'?

2024-11-06 23:47:38,142 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6298, 6299], target: __del/짓궂은_마음_3
2024-11-06 23:47:38,147 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6298, 6299]
2024-11-06 23:47:38,200 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f599c3cc770>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__중복/짓궂은_마음_3 -> /home/manga/__del/짓궂은_마음_3', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f599c3cc860>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/휘감기는_시선_34 -> /home/manga/__del/짓궂은_마음_3', 'success': True}]
2024-11-06 23:47:38,200 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6298
2024-11-06 23:47:38,202 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'Manga' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_mangas_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 355, in delete_mangas_models
    for manga in mangas:
TypeError: 'Manga' object is not iterable

2024-11-06 23:47:38,203 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'Manga' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_mangas_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 355, in delete_mangas_models
    for manga in mangas:
TypeError: 'Manga' object is not iterable

2024-11-07 00:01:53,435 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6301], target: 중복/휘감기는_시선_34
2024-11-07 00:01:53,440 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6301]
2024-11-07 00:01:53,443 - app.api.api_v1.endpoints.manga - ERROR - Value error during merge: Invalid genre folder: 중복
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 191, in merge_manga_folder
    raise ValueError(f"Invalid genre folder: {genre_folder}")
ValueError: Invalid genre folder: 중복

2024-11-07 00:02:13,857 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6301], target: __중복/휘감기는_시선_34
2024-11-07 00:02:13,861 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6301]
2024-11-07 00:02:13,864 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'

2024-11-07 00:03:05,028 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6301], target: __중복/휘감기는_시선_34
2024-11-07 00:03:05,031 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6301]
2024-11-07 00:03:05,033 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'

2024-11-07 00:03:05,810 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6301], target: __중복/휘감기는_시선_34
2024-11-07 00:03:05,814 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6301]
2024-11-07 00:03:05,815 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'

2024-11-07 00:23:59,339 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6301, 6299], target: __del/다락방_두_사람
2024-11-07 00:23:59,342 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6301, 6299]
2024-11-07 00:23:59,344 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__중복/휘감기는_시선_34'

2024-11-07 05:24:48,288 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6304, 6303], target: __del/누나는_아버지에게_안기고_있다_1
2024-11-07 05:24:48,293 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6304, 6303]
2024-11-07 05:24:48,321 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fb36df552b0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/최면신문 -> /home/manga/__del/누나는_아버지에게_안기고_있다_1', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fb36df55610>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/누나는_아버지에게_안기고_있다_1 -> /home/manga/__del/누나는_아버지에게_안기고_있다_1', 'success': True}]
2024-11-07 05:24:48,322 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6303
2024-11-07 05:24:48,691 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6304
2024-11-07 05:25:30,922 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6301, 6302], target: __del/다락방_두_사람
2024-11-07 05:25:30,925 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6301, 6302]
2024-11-07 05:25:30,956 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fb36f678500>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/다락방_두_사람 -> /home/manga/__del/다락방_두_사람', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fb36f678fb0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/코쿠하레_2 -> /home/manga/__del/다락방_두_사람', 'success': True}]
2024-11-07 05:25:30,956 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6301
2024-11-07 05:25:31,000 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/다락방_두_사람', 47, '2024-11-07 05:25:30.956082', 6302)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/다락방_두_사람', 47, '2024-11-07 05:25:30.956082', 6302)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 05:25:31,006 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/다락방_두_사람', 47, '2024-11-07 05:25:30.956082', 6302)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/다락방_두_사람', 47, '2024-11-07 05:25:30.956082', 6302)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 05:25:34,049 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6301, 6302], target: __del/다락방_두_사람
2024-11-07 05:25:34,053 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6301, 6302]
2024-11-07 05:25:34,055 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'

2024-11-07 05:25:36,401 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6301, 6302], target: __del/다락방_두_사람
2024-11-07 05:25:36,404 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6301, 6302]
2024-11-07 05:25:36,406 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'

2024-11-07 05:25:49,669 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6302, 6301], target: __del/코쿠하레_2
2024-11-07 05:25:49,673 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6302, 6301]
2024-11-07 05:25:49,675 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'

2024-11-07 05:25:50,778 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6302, 6301], target: __del/코쿠하레_2
2024-11-07 05:25:50,781 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6302, 6301]
2024-11-07 05:25:50,783 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'

2024-11-07 05:25:52,061 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6302, 6301], target: __del/코쿠하레_2
2024-11-07 05:25:52,065 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6302, 6301]
2024-11-07 05:25:52,067 - app.api.api_v1.endpoints.manga - ERROR - OS error during merge: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 180, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 224, in merge_manga_folder
    files = sorted(os.listdir(source_path))
                   ^^^^^^^^^^^^^^^^^^^^^^^
FileNotFoundError: [Errno 2] No such file or directory: '/home/manga/__del/코쿠하레_2'

2024-11-07 05:54:51,139 - multipart.multipart - DEBUG - Calling on_field_start with no data
2024-11-07 05:54:51,140 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2024-11-07 05:54:51,140 - multipart.multipart - DEBUG - Calling on_field_data with data[9:12]
2024-11-07 05:54:51,141 - multipart.multipart - DEBUG - Calling on_field_end with no data
2024-11-07 05:54:51,141 - multipart.multipart - DEBUG - Calling on_field_start with no data
2024-11-07 05:54:51,142 - multipart.multipart - DEBUG - Calling on_field_name with data[13:21]
2024-11-07 05:54:51,142 - multipart.multipart - DEBUG - Calling on_field_data with data[22:30]
2024-11-07 05:54:51,143 - multipart.multipart - DEBUG - Calling on_field_end with no data
2024-11-07 05:54:51,143 - multipart.multipart - DEBUG - Calling on_end with no data
2024-11-07 05:54:51,190 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2024-11-07 05:54:51,191 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2024-11-07 05:55:15,421 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6304, 6301], target: __del/누나는_아버지에게_안기고_있다_1
2024-11-07 05:55:15,426 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6304, 6301]
2024-11-07 05:55:15,453 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f6ca07357f0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/누나는_아버지에게_안기고_있다_1 -> /home/manga/__del/누나는_아버지에게_안기고_있다_1', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f6ca0734c50>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/다락방_두_사람 -> /home/manga/__del/누나는_아버지에게_안기고_있다_1', 'success': True}]
2024-11-07 05:55:15,453 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6304
2024-11-07 05:55:15,814 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6301
2024-11-07 06:08:11,364 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6310, 6309], target: __del/Chikakute_Tooi_Anata_가깝고도_먼_당신
2024-11-07 06:08:11,367 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6310, 6309]
2024-11-07 06:08:11,395 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f6ca01fb9b0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Chikakute_Tooi_Anata_가깝고도_먼_당신 -> /home/manga/__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f6ca01f9a30>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/근친가족 -> /home/manga/__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 'success': True}]
2024-11-07 06:08:11,395 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6310
2024-11-07 06:08:11,412 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 58, '2024-11-07 06:08:11.395041', 6309)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 58, '2024-11-07 06:08:11.395041', 6309)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 06:08:11,418 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 58, '2024-11-07 06:08:11.395041', 6309)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Chikakute_Tooi_Anata_가깝고도_먼_당신', 58, '2024-11-07 06:08:11.395041', 6309)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 06:13:25,418 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6311, 6305], target: __del/SPIDERMAN_SPIDER_GWEN
2024-11-07 06:13:25,430 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6311, 6305]
2024-11-07 06:13:25,446 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fbd1e7d3890>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/SPIDERMAN_SPIDER_GWEN -> /home/manga/__del/SPIDERMAN_SPIDER_GWEN', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fbd1e7d3c80>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/시비르 -> /home/manga/__del/SPIDERMAN_SPIDER_GWEN', 'success': True}]
2024-11-07 06:13:25,446 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6311
2024-11-07 06:13:25,475 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/SPIDERMAN_SPIDER_GWEN', 32, '2024-11-07 06:13:25.446142', 6305)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/SPIDERMAN_SPIDER_GWEN', 32, '2024-11-07 06:13:25.446142', 6305)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 06:13:25,480 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/SPIDERMAN_SPIDER_GWEN', 32, '2024-11-07 06:13:25.446142', 6305)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/SPIDERMAN_SPIDER_GWEN', 32, '2024-11-07 06:13:25.446142', 6305)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 06:21:11,332 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6307, 6306], target: __del/Ayanami_1_Gakusei_Hen_능파_1_학생편
2024-11-07 06:21:11,343 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6307, 6306]
2024-11-07 06:21:11,386 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f84faab7fb0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f84faae83e0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/다정한_한때를_보내고_있는_아리와_문도 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:21:11,386 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6307
2024-11-07 06:21:11,782 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6306
2024-11-07 06:22:19,925 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __중복
2024-11-07 06:22:19,936 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:22:19,937 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fd756763e00>, 'msg': '폴더 이동 성공: /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:22:19,937 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:22:37,641 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6312, 6313], target: __del/I_Don_t_Need_Feminism_Because
2024-11-07 06:22:37,644 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6312, 6313]
2024-11-07 06:22:37,702 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fd7567b44a0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/I_Don_t_Need_Feminism_Because -> /home/manga/__del/I_Don_t_Need_Feminism_Because', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fd7567b49b0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/sig_mcx -> /home/manga/__del/I_Don_t_Need_Feminism_Because', 'success': True}]
2024-11-07 06:22:37,702 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6312
2024-11-07 06:22:38,025 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6313
2024-11-07 06:25:40,321 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6308, 6312], target: __del/Patreon_February_2019_October_2020_Tier2_Reward
2024-11-07 06:25:40,334 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6308, 6312]
2024-11-07 06:25:40,440 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f81be358470>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/I_Don_t_Need_Feminism_Because -> /home/manga/__del/Patreon_February_2019_October_2020_Tier2_Reward', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f81be358080>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/Patreon_February_2019_October_2020_Tier2_Reward -> /home/manga/__del/Patreon_February_2019_October_2020_Tier2_Reward', 'success': True}]
2024-11-07 06:25:40,441 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6312
2024-11-07 06:25:40,806 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6308
2024-11-07 06:27:10,719 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __del
2024-11-07 06:27:10,721 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:27:10,722 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f81be3a7e30>, 'msg': '폴더 이동 성공: /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:27:10,722 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:33:02,706 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __중복
2024-11-07 06:33:02,716 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:33:02,718 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f91941583e0>, 'msg': '폴더 이동 성공: /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:33:02,718 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:36:01,806 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __del
2024-11-07 06:36:01,808 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:36:01,810 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f919419cb00>, 'msg': '폴더 이동 성공: /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:36:01,810 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:38:43,002 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6307, 6308], target: __del/Ayanami_1_Gakusei_Hen_능파_1_학생편
2024-11-07 06:38:43,014 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6307, 6308]
2024-11-07 06:38:43,163 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f27dd4fbd70>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f27dd5241a0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Patreon_February_2019_October_2020_Tier2_Reward -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:38:43,163 - app.api.api_v1.endpoints.manga - INFO - Updating manga in DB: 6307
2024-11-07 06:38:43,466 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6308
2024-11-07 06:39:02,109 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __중복
2024-11-07 06:39:02,111 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:39:02,115 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f27dd542a80>, 'msg': '폴더 이동 성공: /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:39:02,115 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:47:08,503 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6307], target: __del
2024-11-07 06:47:08,507 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6307]
2024-11-07 06:47:08,508 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f5e3ff426f0>, 'msg': '폴더 이동 성공: /home/manga/__중복/Ayanami_1_Gakusei_Hen_능파_1_학생편 -> /home/manga/__del/Ayanami_1_Gakusei_Hen_능파_1_학생편', 'success': True}]
2024-11-07 06:47:08,508 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:52:35,833 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6312], target: __중복
2024-11-07 06:52:35,835 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6312]
2024-11-07 06:52:35,836 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f5e3e295c70>, 'msg': '폴더 이동 성공: /home/manga/__del/Arai_Kei_Ahiru_to_Akane_아히루와_아카네_Gunjo_Gunzo_Korean_Digital -> /home/manga/__중복/Arai_Kei_Ahiru_to_Akane_아히루와_아카네_Gunjo_Gunzo_Korean_Digital', 'success': True}]
2024-11-07 06:52:35,837 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 06:53:00,045 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6311, 6312], target: __del/엄마와_딸의_타락
2024-11-07 06:53:00,048 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6311, 6312]
2024-11-07 06:53:00,091 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f5e3e294d10>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/엄마와_딸의_타락 -> /home/manga/__del/엄마와_딸의_타락', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f5e3e294140>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/Arai_Kei_Ahiru_to_Akane_아히루와_아카네_Gunjo_Gunzo_Korean_Digital -> /home/manga/__del/엄마와_딸의_타락', 'success': True}]
2024-11-07 06:53:00,091 - app.api.api_v1.endpoints.manga - INFO - Deleting manga from DB: 6311
2024-11-07 06:53:00,108 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/엄마와_딸의_타락', 49, '2024-11-07 06:53:00.091446', 6312)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/엄마와_딸의_타락', 49, '2024-11-07 06:53:00.091446', 6312)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 06:53:00,114 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/엄마와_딸의_타락', 49, '2024-11-07 06:53:00.091446', 6312)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 203, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/엄마와_딸의_타락', 49, '2024-11-07 06:53:00.091446', 6312)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 07:07:43,048 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6313, 6314], target: __del/흑인에게_빠진_엄마
2024-11-07 07:07:43,054 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6313, 6314]
2024-11-07 07:07:43,263 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fc934629430>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/처녀마음 -> /home/manga/__del/흑인에게_빠진_엄마', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fc934628c20>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/흑인에게_빠진_엄마 -> /home/manga/__del/흑인에게_빠진_엄마', 'success': True}]
2024-11-07 07:07:43,296 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/흑인에게_빠진_엄마', 210, '2024-11-07 07:07:43.263532', 6314)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 201, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/흑인에게_빠진_엄마', 210, '2024-11-07 07:07:43.263532', 6314)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 221, in manga_action
    raise HTTPException(status_code=500, detail=f"Database update failed: {str(e)}")
fastapi.exceptions.HTTPException: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/흑인에게_빠진_엄마', 210, '2024-11-07 07:07:43.263532', 6314)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 10:00:08,142 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [1629, 3961], target: __del/엄마와_딸의_타락
2024-11-07 10:00:08,147 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [1629, 3961]
2024-11-07 10:00:08,205 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7efc922a85c0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/엄마와_딸의_타락 -> /home/manga/__del/엄마와_딸의_타락', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7efc922a8950>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/연애혁명_이경후_흑화루트 -> /home/manga/__del/엄마와_딸의_타락', 'success': True}]
2024-11-07 10:08:06,713 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6297, 1627], target: __del/이웃집_트러블_메이커
2024-11-07 10:08:06,718 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6297, 1627]
2024-11-07 10:08:06,784 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f6525c9a5d0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/이마이즈미네_집은_아무래도_갸루의_아지트가_된_모양이다_1_무삭제판 -> /home/manga/__del/이웃집_트러블_메이커', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f6525c987a0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/이웃집_트러블_메이커 -> /home/manga/__del/이웃집_트러블_메이커', 'success': True}]
2024-11-07 10:09:19,632 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6298, 6295], target: __del/탐이_많은_이모
2024-11-07 10:09:19,644 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6298, 6295]
2024-11-07 10:09:19,704 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fccf7e84080>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Arai_Kei_Ahiru_to_Akane_아히루와_아카네_Gunjo_Gunzo_Korean_Digital -> /home/manga/__del/탐이_많은_이모', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fccf7e5bc50>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/탐이_많은_이모 -> /home/manga/__del/탐이_많은_이모', 'success': True}]
2024-11-07 10:09:57,120 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6299, 6298], target: __del/연애혁명_이경후_흑화루트
2024-11-07 10:09:57,123 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6299, 6298]
2024-11-07 10:09:57,199 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fccf7eaa8d0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/연애혁명_이경후_흑화루트 -> /home/manga/__del/연애혁명_이경후_흑화루트', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fccf7eaade0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/탐이_많은_이모 -> /home/manga/__del/연애혁명_이경후_흑화루트', 'success': True}]
2024-11-07 10:09:57,222 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/연애혁명_이경후_흑화루트', 92, '2024-11-07 10:09:57.198986', 6298)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 200, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/연애혁명_이경후_흑화루트', 92, '2024-11-07 10:09:57.198986', 6298)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 220, in manga_action
    raise HTTPException(status_code=500, detail=f"Database update failed: {str(e)}")
fastapi.exceptions.HTTPException: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/연애혁명_이경후_흑화루트', 92, '2024-11-07 10:09:57.198986', 6298)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 10:15:50,600 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:50,603 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:50,604 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c79430>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:50,604 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:50,605 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:52,314 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:52,317 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:52,318 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c7bb00>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:52,318 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:52,319 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:52,935 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:52,937 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:52,937 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c7ab70>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:52,938 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:52,938 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:53,497 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:53,499 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:53,500 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7ed7260>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:53,501 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:53,502 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:53,834 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:53,836 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:53,837 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cacb00>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:53,837 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:53,838 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:54,081 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:54,083 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:54,084 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cada90>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:54,085 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:54,086 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:54,318 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:54,320 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:54,321 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7ed61b0>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:54,322 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:54,323 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:54,509 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:54,511 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:54,512 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c79310>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:54,513 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:54,513 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:54,711 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:54,713 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:54,714 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c7be60>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:54,714 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:54,715 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:15:57,175 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:15:57,177 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:15:57,178 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cac440>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:15:57,178 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:15:57,179 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:16:00,849 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:00,851 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:00,852 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7caecc0>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:00,853 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:00,853 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:04,580 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:16:04,582 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:04,582 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c7a750>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:04,583 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:16:04,584 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:16:18,795 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:16:18,796 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:18,797 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7ed60c0>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:18,798 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:16:18,799 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:16:23,581 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __중복
2024-11-07 10:16:23,583 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:23,584 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7caeff0>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:23,584 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]
2024-11-07 10:16:23,585 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__중복/탐이_많은_이모'"]}

2024-11-07 10:16:33,401 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:33,403 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:33,404 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7c79670>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:33,404 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:33,405 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:34,471 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:34,473 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:34,474 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cade80>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:34,474 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:34,475 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:35,213 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:35,215 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:35,215 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cae000>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:35,216 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:35,216 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:42,698 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:42,700 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:42,701 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7cad130>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:42,701 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:42,702 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:43,414 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:43,421 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:43,422 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf87d03b0>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:43,422 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:43,423 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:16:44,258 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298], target: __del
2024-11-07 10:16:44,260 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6298]
2024-11-07 10:16:44,261 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fccf7ed6e10>, 'msg': "폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'", 'success': False}]
2024-11-07 10:16:44,262 - app.api.api_v1.endpoints.manga - ERROR - Move failures: ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]
2024-11-07 10:16:44,262 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during move: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 151, in manga_action
    raise HTTPException(
fastapi.exceptions.HTTPException: 400: {'message': 'Some manga moves failed', 'errors': ["폴더 이동 실패: [Errno 2] No such file or directory: '/home/manga/__del/탐이_많은_이모' -> '/home/manga/__del/탐이_많은_이모'"]}

2024-11-07 10:21:03,966 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6299], target: __중복
2024-11-07 10:21:03,968 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:21:05,323 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6299], target: __중복
2024-11-07 10:21:05,324 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:21:06,064 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6299], target: __중복
2024-11-07 10:21:06,066 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:26:25,341 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6296], target: __중복
2024-11-07 10:26:25,343 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:28:18,453 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6296], target: __중복
2024-11-07 10:28:18,455 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:29:57,122 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6298, 6296], target: __중복
2024-11-07 10:29:57,133 - app.api.api_v1.endpoints.manga - ERROR - Manga not found: id=6298
2024-11-07 10:30:15,857 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6296], target: __중복
2024-11-07 10:30:15,859 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6296]
2024-11-07 10:30:15,860 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fcbec6d8b90>, 'msg': '폴더 이동 성공: /home/manga/__del/처녀마음 -> /home/manga/__중복/처녀마음', 'success': True}]
2024-11-07 10:30:15,860 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 10:30:33,925 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6299], target: __중복
2024-11-07 10:30:33,927 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6299]
2024-11-07 10:30:33,928 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fcbec6b6ab0>, 'msg': '폴더 이동 성공: /home/manga/__del/연애혁명_이경후_흑화루트 -> /home/manga/__중복/연애혁명_이경후_흑화루트', 'success': True}]
2024-11-07 10:30:33,928 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 10:30:53,375 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6296, 6299], target: __중복/처녀마음
2024-11-07 10:30:53,378 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6296, 6299]
2024-11-07 10:30:53,678 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fcbec6b6540>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/연애혁명_이경후_흑화루트 -> /home/manga/__중복/처녀마음', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fcbec6b5ca0>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__중복/처녀마음 -> /home/manga/__중복/처녀마음', 'success': True}]
2024-11-07 10:30:53,709 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__중복/처녀마음', 293, '2024-11-07 10:30:53.678247', 6299)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 200, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 363, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__중복/처녀마음', 293, '2024-11-07 10:30:53.678247', 6299)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 220, in manga_action
    raise HTTPException(status_code=500, detail=f"Database update failed: {str(e)}")
fastapi.exceptions.HTTPException: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__중복/처녀마음', 293, '2024-11-07 10:30:53.678247', 6299)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 10:44:31,339 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6301, 6300], target: __중복
2024-11-07 10:44:31,344 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6301, 6300]
2024-11-07 10:44:31,346 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7f0c4a0cbfb0>, 'msg': '폴더 이동 성공: /home/manga/__del/아는_누나한테_아다_따인_썰만화_2 -> /home/manga/__중복/아는_누나한테_아다_따인_썰만화_2', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f0c4a0ec380>, 'msg': '폴더 이동 성공: /home/manga/__del/카타리나_가렌 -> /home/manga/__중복/카타리나_가렌', 'success': True}]
2024-11-07 10:44:31,346 - app.api.api_v1.endpoints.manga - INFO - Updating 2 manga records in DB
2024-11-07 10:45:04,461 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6301, 6300], target: __중복/아는_누나한테_아다_따인_썰만화_2
2024-11-07 10:45:04,465 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6301, 6300]
2024-11-07 10:45:04,525 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f0c4a112e70>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__중복/아는_누나한테_아다_따인_썰만화_2 -> /home/manga/__중복/아는_누나한테_아다_따인_썰만화_2', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f0c4a112e10>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__중복/카타리나_가렌 -> /home/manga/__중복/아는_누나한테_아다_따인_썰만화_2', 'success': True}]
2024-11-07 10:45:53,446 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6304, 6302], target: __del/일이니까요_전편2
2024-11-07 10:45:53,449 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6304, 6302]
2024-11-07 10:45:53,474 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7f0c4a119310>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Bonus_Spatchu -> /home/manga/__del/일이니까요_전편2', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7f0c4a119580>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/일이니까요_전편 -> /home/manga/__del/일이니까요_전편2', 'success': True}]
2024-11-07 10:54:15,606 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6305, 6304], target: __del/Honolulu2
2024-11-07 10:54:15,611 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6305, 6304]
2024-11-07 10:54:15,672 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fe3b4784440>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Honolulu -> /home/manga/__del/Honolulu2', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fe3b4784e30>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/나이_확인 -> /home/manga/__del/Honolulu2', 'success': True}]
2024-11-07 10:59:12,553 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6329, 6328], target: __del/Papa_Daisuki
2024-11-07 10:59:12,558 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6329, 6328]
2024-11-07 10:59:12,661 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fc108f192e0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/How_Many_Diamonds_is_a_Kiss_Worth -> /home/manga/__del/Papa_Daisuki', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fc108f19370>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Papa_Daisuki -> /home/manga/__del/Papa_Daisuki', 'success': True}]
2024-11-07 10:59:12,695 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Papa_Daisuki', 74, '2024-11-07 10:59:12.661464', 6328)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)
Traceback (most recent call last):
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlite3.IntegrityError: UNIQUE constraint failed: manga.folder_name

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 200, in manga_action
    MangaCRUD.delete_manga_models(db, r['manga'])
  File "/home/kds/k202410/FastApi202410/app/crud/manga.py", line 364, in delete_manga_models
    db.commit()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 2028, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4352, in flush
    self._flush(objects)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4487, in _flush
    with util.safe_reraise():
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/session.py", line 4448, in _flush
    flush_context.execute()
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 85, in save_obj
    _emit_update_statements(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/orm/persistence.py", line 912, in _emit_update_statements
    c = connection.execute(
        ^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
    return meth(
           ^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
    self._handle_dbapi_exception(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 2355, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
    self.dialect.do_execute(
  File "/home/kds/k202410/venv202410/lib/python3.12/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.IntegrityError: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Papa_Daisuki', 74, '2024-11-07 10:59:12.661464', 6328)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 220, in manga_action
    raise HTTPException(status_code=500, detail=f"Database update failed: {str(e)}")
fastapi.exceptions.HTTPException: 500: Database update failed: (sqlite3.IntegrityError) UNIQUE constraint failed: manga.folder_name
[SQL: UPDATE manga SET folder_name=?, page=?, update_date=? WHERE manga.id = ?]
[parameters: ('__del/Papa_Daisuki', 74, '2024-11-07 10:59:12.661464', 6328)]
(Background on this error at: https://sqlalche.me/e/20/gkpj)

2024-11-07 10:59:34,640 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6331, 6330], target: __del/어머님도_암컷오크_1
2024-11-07 10:59:34,643 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6331, 6330]
2024-11-07 10:59:34,679 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fc10849e600>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/Medical_Center_full -> /home/manga/__del/어머님도_암컷오크_1', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fc10849e570>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/어머님도_암컷오크_1 -> /home/manga/__del/어머님도_암컷오크_1', 'success': True}]
2024-11-07 11:00:34,525 - app.api.api_v1.endpoints.manga - INFO - Action request - action: move, manga_ids: [6326], target: __중복
2024-11-07 11:00:34,527 - app.api.api_v1.endpoints.manga - INFO - Starting move operation for mangas: [6326]
2024-11-07 11:00:34,528 - app.api.api_v1.endpoints.manga - DEBUG - Move result: [{'manga': <app.models.manga.Manga object at 0x7fc1083a0c80>, 'msg': '폴더 이동 성공: /home/manga/__del/Otona_Nano_de -> /home/manga/__중복/Otona_Nano_de', 'success': True}]
2024-11-07 11:00:34,528 - app.api.api_v1.endpoints.manga - INFO - Updating 1 manga records in DB
2024-11-07 11:01:09,097 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6323, 6322], target: __del/연애편지_컨퓨전
2024-11-07 11:01:09,100 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6323, 6322]
2024-11-07 11:01:09,144 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: [{'manga': <app.models.manga.Manga object at 0x7fc1083a2450>, 'msg': '폴더 병합 성공 (삭제됨): /home/manga/__del/다이아퀸_2화 -> /home/manga/__del/연애편지_컨퓨전', 'success': True}, {'manga': <app.models.manga.Manga object at 0x7fc1083a01a0>, 'msg': '폴더 병합 성공 (유지됨): /home/manga/__del/연애편지_컨퓨전 -> /home/manga/__del/연애편지_컨퓨전', 'success': True}]
2024-11-08 01:24:22,254 - multipart.multipart - DEBUG - Calling on_field_start with no data
2024-11-08 01:24:22,254 - multipart.multipart - DEBUG - Calling on_field_name with data[0:8]
2024-11-08 01:24:22,254 - multipart.multipart - DEBUG - Calling on_field_data with data[9:12]
2024-11-08 01:24:22,254 - multipart.multipart - DEBUG - Calling on_field_end with no data
2024-11-08 01:24:22,254 - multipart.multipart - DEBUG - Calling on_field_start with no data
2024-11-08 01:24:22,255 - multipart.multipart - DEBUG - Calling on_field_name with data[13:21]
2024-11-08 01:24:22,255 - multipart.multipart - DEBUG - Calling on_field_data with data[22:30]
2024-11-08 01:24:22,255 - multipart.multipart - DEBUG - Calling on_field_end with no data
2024-11-08 01:24:22,255 - multipart.multipart - DEBUG - Calling on_end with no data
2024-11-08 01:24:22,319 - passlib.handlers.bcrypt - DEBUG - detected 'bcrypt' backend, version '4.0.1'
2024-11-08 01:24:22,319 - passlib.handlers.bcrypt - DEBUG - 'bcrypt' backend lacks $2$ support, enabling workaround
2024-11-08 01:24:39,974 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:24:39,979 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:24:39,983 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 290, in merge_manga_folder
    volumes, volume_zfill, page_zfill = get_volumes_number_db(mangas[0])
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 237, in get_volumes_number_db
    page_zfill_count = max(page_zfill_count, len(page[0]))
                                                 ~~~~^^^
IndexError: list index out of range

2024-11-08 01:24:39,984 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 290, in merge_manga_folder
    volumes, volume_zfill, page_zfill = get_volumes_number_db(mangas[0])
                                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 237, in get_volumes_number_db
    page_zfill_count = max(page_zfill_count, len(page[0]))
                                                 ~~~~^^^
IndexError: list index out of range

2024-11-08 01:25:52,866 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:25:52,878 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:25:52,882 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:25:52,884 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:27:00,231 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:27:00,242 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:27:00,253 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:27:00,254 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:27:54,756 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:27:54,768 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:27:54,773 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:27:54,774 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in manga.images_name])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:28:46,273 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:28:46,284 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:28:46,289 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:28:46,290 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 301, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 263, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:30:46,317 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:30:46,328 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:30:46,333 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:30:46,334 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:32:06,525 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:32:06,531 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:32:06,535 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'-?\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:32:06,536 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 300, in merge_manga_folder
    max_zfill = get_max_page_number_length(mangas)
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 262, in get_max_page_number_length
    max_page = max([len(re.findall(r'-?\d+$', img)[0]) for img in json.loads(manga.images_name)])
                        ~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 01:32:48,115 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:32:48,127 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:32:48,171 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:32:48,172 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:32:48,173 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:33:48,424 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:33:48,437 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:33:48,447 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:33:48,449 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:33:48,450 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:37:45,642 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:37:45,654 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:37:45,661 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:37:45,662 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:37:45,663 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:37:47,453 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:37:47,456 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:37:47,464 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:37:47,465 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:37:47,466 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:38:50,744 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:38:50,756 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:38:50,764 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:38:50,765 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:38:50,766 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:42:39,568 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:42:39,580 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325]
2024-11-08 01:42:39,588 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:42:39,590 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:42:39,591 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:46:46,719 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:46:46,731 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 01:46:46,739 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:46:46,740 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:46:46,741 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:48:52,348 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:48:52,361 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 01:48:52,369 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:48:52,370 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:48:52,371 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:50:03,976 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 01:50:03,990 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 01:50:03,999 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 01:50:04,001 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 01:50:04,002 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:08:50,851 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:08:50,865 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:08:50,869 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:08:50,870 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:09:36,420 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:09:36,425 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:09:36,427 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:09:36,428 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:12:47,607 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:12:47,620 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:12:47,624 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 340, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:12:47,625 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 340, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:14:07,708 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:14:07,721 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:14:07,727 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 340, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:14:07,728 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 340, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:19:57,194 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:19:57,207 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:19:57,213 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:19:57,214 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'titles'
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 344, in merge_manga_folder
    tags['title'] = tags['titles'] + manga.folder_name + '_'
                    ~~~~^^^^^^^^^^
KeyError: 'titles'

2024-11-08 02:20:40,849 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:20:40,863 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:20:40,871 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:20:40,873 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:20:40,874 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:24:16,698 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:24:16,712 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:24:16,726 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:24:16,734 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:24:16,735 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:27:09,089 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:27:09,101 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:27:09,109 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:27:09,111 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:27:09,112 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:32:52,937 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:32:52,951 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:32:52,959 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:32:52,961 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:32:52,962 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:35:36,616 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:35:36,629 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:35:36,636 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:35:36,638 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:35:36,639 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:37:05,764 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:37:05,779 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:37:05,791 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:37:05,792 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:37:05,793 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:37:59,174 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 02:37:59,188 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 02:37:59,196 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 02:37:59,198 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 02:37:59,199 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:20:51,591 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:20:51,604 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:20:51,616 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:20:51,618 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:20:51,619 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:22:43,613 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:22:43,626 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:22:43,630 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:22:43,631 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:22:47,494 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:22:47,499 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:22:47,500 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:22:47,501 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:23:11,057 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:23:11,070 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:23:11,074 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:23:11,075 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: cannot unpack non-iterable NoneType object
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 324, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
    ^^^^^^^^^^^^^^^
TypeError: cannot unpack non-iterable NoneType object

2024-11-08 05:24:59,045 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:24:59,058 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:24:59,065 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:24:59,067 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:24:59,068 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:27:18,902 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:27:18,916 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:27:18,925 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:27:18,927 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:27:18,928 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:30:35,028 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:30:35,041 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:30:35,052 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:30:35,053 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:30:35,054 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:31:30,496 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:31:30,510 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:31:30,522 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:31:30,523 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:31:30,524 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:33:26,549 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:33:26,563 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:33:26,575 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:33:26,576 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:33:26,578 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:34:49,138 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:34:49,151 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:34:49,161 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:34:49,162 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:34:49,163 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:35:37,027 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:35:37,040 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:35:37,043 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: cannot access local variable 'img' where it is not associated with a value
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 326, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
                                        ^^^
UnboundLocalError: cannot access local variable 'img' where it is not associated with a value

2024-11-08 05:35:37,045 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: cannot access local variable 'img' where it is not associated with a value
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 326, in merge_manga_folder
    volume, volumes = get_volume(manga, img, volume_zfill, volumes, i)
                                        ^^^
UnboundLocalError: cannot access local variable 'img' where it is not associated with a value

2024-11-08 05:37:07,291 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:37:07,304 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:37:07,311 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:37:07,312 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:37:07,313 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:37:23,696 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:37:23,710 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:37:23,721 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:37:23,722 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:37:23,723 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:37:26,031 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:37:26,036 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:37:26,046 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:37:26,047 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:37:26,048 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:44:42,000 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:44:42,013 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:44:42,016 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 329, in merge_manga_folder
    volume1 = re.findall(r'_?(\d+)-', name)[0]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 05:44:42,017 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: list index out of range
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 179, in manga_action
    result = merge_manga_folder(mangas, target_folder_name)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/kds/k202410/FastApi202410/app/utils/manga.py", line 329, in merge_manga_folder
    volume1 = re.findall(r'_?(\d+)-', name)[0]
              ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^^^
IndexError: list index out of range

2024-11-08 05:45:15,034 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:45:15,047 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:45:15,057 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:45:15,059 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:45:15,059 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:48:49,289 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:48:49,303 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:48:49,313 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:48:49,315 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:48:49,316 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:53:26,794 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 05:53:26,807 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 05:53:26,816 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 05:53:26,817 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 05:53:26,818 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 06:09:53,984 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 06:09:53,997 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 06:09:54,007 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 06:09:54,009 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 06:09:54,009 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 06:12:39,419 - app.api.api_v1.endpoints.manga - INFO - Action request - action: merge, manga_ids: [6327, 6325, 6321], target: __del/호태자_TaejaHo_evelynn_x_ahri_comic
2024-11-08 06:12:39,431 - app.api.api_v1.endpoints.manga - INFO - Starting merge operation for mangas: [6327, 6325, 6321]
2024-11-08 06:12:39,442 - app.api.api_v1.endpoints.manga - DEBUG - Merge result: None
2024-11-08 06:12:39,444 - app.api.api_v1.endpoints.manga - ERROR - Unexpected error during merge: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

2024-11-08 06:12:39,444 - app.api.api_v1.endpoints.manga - ERROR - Unhandled exception: 'NoneType' object is not iterable
Traceback (most recent call last):
  File "/home/kds/k202410/FastApi202410/app/api/api_v1/endpoints/manga.py", line 182, in manga_action
    failures = [r for r in result if not r['success']]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'NoneType' object is not iterable

